---
title: 'Docker Compose Setup'
description: 'Learn how to set up and configure Docker Compose for camelAI.'
---

# Docker Compose Setup

This guide will walk you through setting up Docker Compose for camelAI.

## Overview

camelAI uses Docker Compose to manage multiple services:

- `camel`: The main application
- `nginx`: Reverse proxy
- `pgvector`: PostgreSQL with pgvector extension
- `memcached`: Caching layer

## Installation Steps

### 1. Clone the Repository

```bash
git clone https://github.com/qaml-ai/camelAI-docker-compose.git
cd camelAI-docker-compose
```

### 2. Review the Docker Compose File

The main Docker Compose configuration is in `docker-compose.prod.yml`. Here's a breakdown of the services:

```yaml
services:
  camel:
    image: 904534089871.dkr.ecr.us-west-2.amazonaws.com/camel-app:latest
    restart: unless-stopped
    volumes:
      - media_volume:/app/media
      - static_volume:/app/staticfiles
    env_file:
      - .env.docker
    environment:
      - DB_HOST=pgvector
      - DB_USER=postgres
      - MEDIA_ROOT=/app/media
      - MEMCACHED_SERVER=memcached:11211
    depends_on:
      - memcached
      - pgvector

  nginx:
    image: nginx:alpine
    restart: unless-stopped
    ports:
      - "8000:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - media_volume:/app/media
      - static_volume:/app/staticfiles
    depends_on:
      - camel

  memcached:
    image: memcached:alpine
    restart: unless-stopped
    command: memcached -m 64

  pgvector:
    image: pgvector/pgvector:pg17
    restart: unless-stopped
    env_file:
      - .env.docker
    volumes:
      - pgvector_data:/var/lib/postgresql/data

volumes:
  media_volume:
  static_volume:
  pgvector_data:
```

### 3. Environment Variables

The repository includes a `.env.docker` template file. Copy it and update the values:

```bash
cp .env.docker .env.docker.local
```

Edit `.env.docker.local` with your configuration:
- Set a secure `DJANGO_SECRET_KEY`
- Update `POSTGRES_PASSWORD` with a secure password
- Configure your AWS credentials if using Bedrock
- Set up API keys if using OpenAI or Anthropic

See our [Environment Variables](/installation/environment-variables) guide for details.

### 4. Start the Services

Run the following command to start all services:

```bash
docker compose -f docker-compose.prod.yml up -d
```

### 5. Verify Installation

Check that all services are running:

```bash
docker compose ps
```

You should see all services with a status of "running".

## Common Issues

### Port Conflicts

If you see port conflicts, make sure:
- Port 8000 is not in use by another application

### Volume Permissions

If you encounter permission issues with volumes:

```bash
sudo chown -R $USER:$USER .
```

### Service Health Checks

You can check the health of individual services:

```bash
docker compose logs camel
docker compose logs nginx
docker compose logs pgvector
docker compose logs memcached
```

## Next Steps

After setting up Docker Compose:

1. [Create a Superuser](/first-steps/creating-superuser)
2. [Configure Your Environment](/installation/environment-variables)
3. [Start Using camelAI](/quickstart) 